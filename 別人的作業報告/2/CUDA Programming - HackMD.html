<!DOCTYPE html>
<!-- saved from url=(0040)https://hackmd.io/@karta134033/HJ4vSVjnP -->
<html lang="zh-TW"><script async="" src="./CUDA Programming - HackMD_files/gtm.js.下載"></script><script id="allow-copy_script">(function agent() {
    let unlock = false
    document.addEventListener('allow_copy', (event) => {
      unlock = event.detail.unlock
    })

    const copyEvents = [
      'copy',
      'cut',
      'contextmenu',
      'selectstart',
      'mousedown',
      'mouseup',
      'mousemove',
      'keydown',
      'keypress',
      'keyup',
    ]
    const rejectOtherHandlers = (e) => {
      if (unlock) {
        e.stopPropagation()
        if (e.stopImmediatePropagation) e.stopImmediatePropagation()
      }
    }
    copyEvents.forEach((evt) => {
      document.documentElement.addEventListener(evt, rejectOtherHandlers, {
        capture: true,
      })
    })
  })()</script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="csrf-token" content="BfAmmRX1-IeF6aEBWSXbh9RSCXY0CmK-hKhw">
    
    
    <meta name="description" content="  # CUDA Programming  ## Q1  &gt; What are the pros and cons of the three methods? Give an assumption a">
    
    <title>CUDA Programming - HackMD</title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
	<link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">
    
<script nonce="">
  window.domain = 'hackmd.io'
  window.urlpath = ''
  window.debug = false
  window.version = '1.3.0'
  window.brand = 'HackMD'

  
  window.NOTE_ID = 'XcF7QuDCRyeLrXS7He13mA'
  

  window.GOOGLE_API_KEY = 'AIzaSyCjSrqWHhmWJnoI7JlD88XDSaBgiKbaenA'
  window.GOOGLE_CLIENT_ID = '911617723593-drikdibvvn63slfd6kbqigo8ql1no55s.apps.googleusercontent.com'
  window.DROPBOX_APP_KEY = 'rdoizrlnkuha23r'
  
  window.PLANTUML_SERVER = 'https://ptuml.hackmd.io'

  window.ASSET_URL = 'https://assets.hackmd.io'

  window.USER_CAN_CREATE_TEAM = true
  window.USER_CAN_DELETE_ACCOUNT = true
  window.USER_DELETE_ACCOUNT_VIA_EMAIL = true
  window.PAYMENT_ENABLED = true
  window.PAYMENT_PROMOTION_BANNER_ENABLED = false
  window.GITHUB_SYNC_ENABLED = true
  window.GITLAB_SYNC_ENABLED = false
  window.GITLAB_SYNC_BASE_URL = ''
  window.VCS_SYNC_MODE = 'github'
  window.VCS_PROVIDER_NAME = 'GitHub'
  window.FREE_TEAM_NUM = 20
  window.FREE_TEAM_MEMBER_NUM = 3
  window.FREE_PUBLIC_TEAM_NUM = 10
  
  window.EE_SITE_ENABLE = false
  window.EE_SITE_NAME = 'false'
  window.EE_SITE_LINK = 'false'
  window.EESITE_INFO = false
  window.ENTERPRISE_DISCOVERY_ENABLE = false
  window.ENTERPRISE_DISCOVERY_TEAM = true
  window.ENTERPRISE_DISCOVERY_NOTE = true
  window.ENTERPRISE_DISCOVERY_VIEW_PERMISSION = 'guest'
  
  window.ALLOW_ANONYMOUS = true
  window.ALLOW_ANONYMOUS_EDIT = false
  window.PUBLIC_OVERVIEW = false
  window.INTERNAL_PUBLIC_OVERVIEW = false
  window.FULL_TEXT_SEARCH_ENABLE = false
  window.ALGOLIA_SEARCH_ENABLE = true
  window.MARKETING_EMAIL_ENABLE = true
  
  
  window.API_MANAGEMENT_UI_ENABLE = true
  window.FEEDBACK_UI_ENABLE = true
  window.PUBLISH_ENABLE = true

  
  window.SHOW_HOT_NOTES = false
  

  
  window.HOT_NOTES_TIME_TYPE = 'week'
  

  
  window.SHOW_OVERVIEW = true
  

  
  window.MENTIONS = {}
  

  
  window.MENTION_ANCHORS = []
  

  
  window.COMMENT_ANCHORS = []
  

  
  window.IS_OWNER = false
  

  
  window.IS_TEAM_ADMIN = false
  

  

  
  window.USER_PROFILE = {"name":"楊子民","userpath":"sam1248105","photo":"https://graph.facebook.com/3226858230677250/picture?width=96","userid":"2c7be004-f01e-46bd-b2d6-7133e2372bb8"}
  

  
  window.VERSION_TIME = '1610263333813'
  

  
  window.canEdit = true
  

  
  window.canWriteComment = true
  
</script>


    
<!-- Google Tag Manager -->
<script nonce="">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KLW9Z3');</script>
<!-- End Google Tag Manager -->


    



<meta property="fb:app_id" content="1436904003272070">


    <meta name="twitter:image:src" content="https://lh3.googleusercontent.com/-8t6tJ5N_q9k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reKpEqiLF5J4yGnqMw6Ckn2daGTog/photo.jpg">


<meta name="twitter:site" content="@hackmdio">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CUDA Programming - HackMD">


    <meta name="twitter:description" content="  # CUDA Programming  ## Q1  &gt; What are the pros and cons of the three methods? Give an assumption a">



    <meta property="og:image" content="https://lh3.googleusercontent.com/-8t6tJ5N_q9k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reKpEqiLF5J4yGnqMw6Ckn2daGTog/photo.jpg">


<meta property="og:site_name" content="HackMD">
<meta property="og:type" content="article">
<meta property="og:title" content="CUDA Programming - HackMD">


    <meta property="og:description" content="  # CUDA Programming  ## Q1  &gt; What are the pros and cons of the three methods? Give an assumption a">


    <link rel="stylesheet" href="./CUDA Programming - HackMD_files/emojify.min.css">
     <link href="./CUDA Programming - HackMD_files/font-vendor.3af8242de4ff555af255.css" rel="stylesheet"><link href="./CUDA Programming - HackMD_files/common-vendor.3f50d6443fc55574a09d.css" rel="stylesheet"><link href="./CUDA Programming - HackMD_files/pretty-vendor.c152255c6001dfd89878.css" rel="stylesheet"><link href="./CUDA Programming - HackMD_files/pretty.ffde640da59ec7941712.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
<![endif]-->

<style id="googleidentityservice_button_styles" nonce="">.qJTHM{-webkit-user-select:none;color:#202124;direction:ltr;-webkit-touch-callout:none;font-family:"Roboto-Regular",arial,sans-serif;-webkit-font-smoothing:antialiased;font-weight:400;margin:0;overflow:hidden;-webkit-text-size-adjust:100%}.ynRLnc{left:-9999px;position:absolute;top:-9999px}.L6cTce{display:none}.bltWBb{word-break:break-all}.hSRGPd{color:#1a73e8;cursor:pointer;font-weight:500;text-decoration:none}.Bz112c-W3lGp{height:16px;width:16px}.Bz112c-E3DyYd{height:20px;width:20px}.Bz112c-r9oPif{height:24px;width:24px}.Bz112c-uaxL4e{-webkit-border-radius:10px;border-radius:10px}.LgbsSe-Bz112c{display:block}.S9gUrf-YoZ4jf,.S9gUrf-YoZ4jf *{border:none;margin:0;padding:0}.fFW7wc-ibnC6b>.aZ2wEe>div{border-color:#4285f4}.P1ekSe-ZMv3u>div:nth-child(1){background-color:#1a73e8!important}.P1ekSe-ZMv3u>div:nth-child(2),.P1ekSe-ZMv3u>div:nth-child(3){background-image:linear-gradient(to right,rgba(255,255,255,.7),rgba(255,255,255,.7)),linear-gradient(to right,#1a73e8,#1a73e8)!important}.haAclf{display:inline-block}.nsm7Bb-HzV7m-LgbsSe{-webkit-border-radius:4px;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .218s,border-color .218s;transition:background-color .218s,border-color .218s;-webkit-user-select:none;-webkit-appearance:none;background-color:#fff;background-image:none;border:1px solid #dadce0;color:#3c4043;cursor:pointer;font-family:"Google Sans",arial,sans-serif;font-size:14px;height:40px;letter-spacing:0.25px;outline:none;overflow:hidden;padding:0 12px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}@media screen and (-ms-high-contrast:active){.nsm7Bb-HzV7m-LgbsSe{border:2px solid windowText;color:windowText}}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe{font-size:14px;height:32px;letter-spacing:0.25px;padding:0 10px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe{font-size:11px;height:20px;letter-spacing:0.3px;padding:0 8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe{padding:0;width:40px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe{width:32px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe{width:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK{-webkit-border-radius:20px;border-radius:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.pSzOP-SxQuSe{-webkit-border-radius:16px;border-radius:16px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.purZT-SxQuSe{-webkit-border-radius:10px;border-radius:10px}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc{border:none;color:#fff}.nsm7Bb-HzV7m-LgbsSe.MFS4be-v3pZbf-Ia7Qfc{background-color:#1a73e8}.nsm7Bb-HzV7m-LgbsSe.MFS4be-JaPV2b-Ia7Qfc{background-color:#202124;color:#e8eaed}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:18px;margin-right:8px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:14px;min-width:14px;width:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:10px;min-width:10px;width:10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin-left:8px;margin-right:-4px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:10px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:4px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:3px;border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;border-bottom-left-radius:3px;display:-webkit-box;display:-webkit-flex;display:flex;justify-content:center;-webkit-align-items:center;align-items:center;background-color:#fff;height:36px;margin-left:-10px;margin-right:12px;min-width:36px;width:36px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c,.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:28px;margin-left:-8px;margin-right:10px;min-width:28px;width:28px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:16px;margin-left:-6px;margin-right:8px;min-width:16px;width:16px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:3px;border-radius:3px;margin-left:2px;margin-right:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:14px;border-radius:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:8px;border-radius:8px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-bN97Pc-sM5MNb{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-flex-direction:row;flex-direction:row;justify-content:space-between;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:100%;position:relative;width:100%}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX{justify-content:center}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:1;flex-grow:1;font-family:"Google Sans",arial,sans-serif;font-weight:500;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-weight:300}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:0;flex-grow:0}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-MJoBVe{-webkit-transition:background-color .218s;transition:background-color .218s;bottom:0;left:0;position:absolute;right:0;top:0}.nsm7Bb-HzV7m-LgbsSe:hover,.nsm7Bb-HzV7m-LgbsSe:focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d2e3fc;outline:none}.nsm7Bb-HzV7m-LgbsSe:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,.04)}.nsm7Bb-HzV7m-LgbsSe:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,.1)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,.24)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,.32)}.nsm7Bb-HzV7m-LgbsSe .n1UuX-DkfjY{-webkit-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;height:20px;margin-left:-4px;margin-right:8px;min-width:20px;width:20px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-family:"Roboto";font-size:12px;text-align:left}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .ssJRIf,.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .fmcmS{overflow:hidden;text-overflow:ellipsis}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;color:#5f6368;fill:#5f6368;font-size:11px;font-weight:400}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.MFS4be-Ia7Qfc .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{color:#e8eaed;fill:#e8eaed}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .Bz112c{height:18px;margin:-3px -3px -3px 2px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:0;border-top-left-radius:0;-webkit-border-bottom-left-radius:0;border-bottom-left-radius:0;-webkit-border-top-right-radius:3px;border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;border-bottom-right-radius:3px;margin-left:12px;margin-right:-10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.L5Fo6c-sM5MNb{border:0;display:block;left:0;position:relative;top:0}.L5Fo6c-bF1uUb{-webkit-border-radius:4px;border-radius:4px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.L5Fo6c-bF1uUb:focus{border:none;outline:none}sentinel{}</style><style>::-moz-focus-inner{border:0 !important;}:focus,.focus{outline: none !important;}</style><style></style><link rel="stylesheet" type="text/css" href="./CUDA Programming - HackMD_files/fretboard.26d5e78e694dfbd67fb7.css"><script charset="utf-8" src="./CUDA Programming - HackMD_files/MathJax.js.下載"></script><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><script charset="utf-8" src="./CUDA Programming - HackMD_files/TeX-AMS_CHTML.js.下載"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><script charset="utf-8" src="./CUDA Programming - HackMD_files/Safe.js.下載"></script><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><link id="googleidentityservice" type="text/css" media="all" rel="stylesheet" href="./CUDA Programming - HackMD_files/style"><style type="text/css">.mjx-chtml {display: inline-block; line-height: 0; text-indent: 0; text-align: left; text-transform: none; font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; letter-spacing: normal; word-wrap: normal; word-spacing: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; margin: 0; padding: 1px 0}
.MJXc-display {display: block; text-align: center; margin: 1em 0; padding: 0}
.mjx-chtml[tabindex]:focus, body :focus .mjx-chtml[tabindex] {display: inline-table}
.mjx-full-width {text-align: center; display: table-cell!important; width: 10000em}
.mjx-math {display: inline-block; border-collapse: separate; border-spacing: 0}
.mjx-math * {display: inline-block; -webkit-box-sizing: content-box!important; -moz-box-sizing: content-box!important; box-sizing: content-box!important; text-align: left}
.mjx-numerator {display: block; text-align: center}
.mjx-denominator {display: block; text-align: center}
.MJXc-stacked {height: 0; position: relative}
.MJXc-stacked > * {position: absolute}
.MJXc-bevelled > * {display: inline-block}
.mjx-stack {display: inline-block}
.mjx-op {display: block}
.mjx-under {display: table-cell}
.mjx-over {display: block}
.mjx-over > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-under > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-stack > .mjx-sup {display: block}
.mjx-stack > .mjx-sub {display: block}
.mjx-prestack > .mjx-presup {display: block}
.mjx-prestack > .mjx-presub {display: block}
.mjx-delim-h > .mjx-char {display: inline-block}
.mjx-surd {vertical-align: top}
.mjx-mphantom * {visibility: hidden}
.mjx-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 2px 3px; font-style: normal; font-size: 90%}
.mjx-annotation-xml {line-height: normal}
.mjx-menclose > svg {fill: none; stroke: currentColor}
.mjx-mtr {display: table-row}
.mjx-mlabeledtr {display: table-row}
.mjx-mtd {display: table-cell; text-align: center}
.mjx-label {display: table-row}
.mjx-box {display: inline-block}
.mjx-block {display: block}
.mjx-span {display: inline}
.mjx-char {display: block; white-space: pre}
.mjx-itable {display: inline-table; width: auto}
.mjx-row {display: table-row}
.mjx-cell {display: table-cell}
.mjx-table {display: table; width: 100%}
.mjx-line {display: block; height: 0}
.mjx-strut {width: 0; padding-top: 1em}
.mjx-vsize {width: 0}
.MJXc-space1 {margin-left: .167em}
.MJXc-space2 {margin-left: .222em}
.MJXc-space3 {margin-left: .278em}
.mjx-chartest {display: block; visibility: hidden; position: absolute; top: 0; line-height: normal; font-size: 500%}
.mjx-chartest .mjx-char {display: inline}
.mjx-chartest .mjx-box {padding-top: 1000px}
.MJXc-processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MJXc-processed {display: none}
.mjx-test {font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow: hidden; height: 1px}
.mjx-test.mjx-test-display {display: table!important}
.mjx-test.mjx-test-inline {display: inline!important; margin-right: -1px}
.mjx-test.mjx-test-default {display: block!important; clear: both}
.mjx-ex-box {display: inline-block!important; position: absolute; overflow: hidden; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0; width: 1px; height: 60ex}
.mjx-test-inline .mjx-left-box {display: inline-block; width: 0; float: left}
.mjx-test-inline .mjx-right-box {display: inline-block; width: 0; float: right}
.mjx-test-display .mjx-right-box {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
#MathJax_CHTML_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.mjx-chtml .mjx-noError {line-height: 1.2; vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
.MJXc-TeX-unknown-R {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: normal; font-weight: normal}
.MJXc-TeX-unknown-I {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: italic; font-weight: normal}
.MJXc-TeX-unknown-B {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: normal; font-weight: bold}
.MJXc-TeX-unknown-BI {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: italic; font-weight: bold}
.MJXc-TeX-ams-R {font-family: MJXc-TeX-ams-R,MJXc-TeX-ams-Rw}
.MJXc-TeX-cal-B {font-family: MJXc-TeX-cal-B,MJXc-TeX-cal-Bx,MJXc-TeX-cal-Bw}
.MJXc-TeX-frak-R {font-family: MJXc-TeX-frak-R,MJXc-TeX-frak-Rw}
.MJXc-TeX-frak-B {font-family: MJXc-TeX-frak-B,MJXc-TeX-frak-Bx,MJXc-TeX-frak-Bw}
.MJXc-TeX-math-BI {font-family: MJXc-TeX-math-BI,MJXc-TeX-math-BIx,MJXc-TeX-math-BIw}
.MJXc-TeX-sans-R {font-family: MJXc-TeX-sans-R,MJXc-TeX-sans-Rw}
.MJXc-TeX-sans-B {font-family: MJXc-TeX-sans-B,MJXc-TeX-sans-Bx,MJXc-TeX-sans-Bw}
.MJXc-TeX-sans-I {font-family: MJXc-TeX-sans-I,MJXc-TeX-sans-Ix,MJXc-TeX-sans-Iw}
.MJXc-TeX-script-R {font-family: MJXc-TeX-script-R,MJXc-TeX-script-Rw}
.MJXc-TeX-type-R {font-family: MJXc-TeX-type-R,MJXc-TeX-type-Rw}
.MJXc-TeX-cal-R {font-family: MJXc-TeX-cal-R,MJXc-TeX-cal-Rw}
.MJXc-TeX-main-B {font-family: MJXc-TeX-main-B,MJXc-TeX-main-Bx,MJXc-TeX-main-Bw}
.MJXc-TeX-main-I {font-family: MJXc-TeX-main-I,MJXc-TeX-main-Ix,MJXc-TeX-main-Iw}
.MJXc-TeX-main-R {font-family: MJXc-TeX-main-R,MJXc-TeX-main-Rw}
.MJXc-TeX-math-I {font-family: MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw}
.MJXc-TeX-size1-R {font-family: MJXc-TeX-size1-R,MJXc-TeX-size1-Rw}
.MJXc-TeX-size2-R {font-family: MJXc-TeX-size2-R,MJXc-TeX-size2-Rw}
.MJXc-TeX-size3-R {font-family: MJXc-TeX-size3-R,MJXc-TeX-size3-Rw}
.MJXc-TeX-size4-R {font-family: MJXc-TeX-size4-R,MJXc-TeX-size4-Rw}
.MJXc-TeX-vec-R {font-family: MJXc-TeX-vec-R,MJXc-TeX-vec-Rw}
.MJXc-TeX-vec-B {font-family: MJXc-TeX-vec-B,MJXc-TeX-vec-Bx,MJXc-TeX-vec-Bw}
@font-face {font-family: MJXc-TeX-ams-R; src: local('MathJax_AMS'), local('MathJax_AMS-Regular')}
@font-face {font-family: MJXc-TeX-ams-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_AMS-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-B; src: local('MathJax_Caligraphic Bold'), local('MathJax_Caligraphic-Bold')}
@font-face {font-family: MJXc-TeX-cal-Bx; src: local('MathJax_Caligraphic'); font-weight: bold}
@font-face {font-family: MJXc-TeX-cal-Bw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Bold.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Bold.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-R; src: local('MathJax_Fraktur'), local('MathJax_Fraktur-Regular')}
@font-face {font-family: MJXc-TeX-frak-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-B; src: local('MathJax_Fraktur Bold'), local('MathJax_Fraktur-Bold')}
@font-face {font-family: MJXc-TeX-frak-Bx; src: local('MathJax_Fraktur'); font-weight: bold}
@font-face {font-family: MJXc-TeX-frak-Bw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Bold.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Bold.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-BI; src: local('MathJax_Math BoldItalic'), local('MathJax_Math-BoldItalic')}
@font-face {font-family: MJXc-TeX-math-BIx; src: local('MathJax_Math'); font-weight: bold; font-style: italic}
@font-face {font-family: MJXc-TeX-math-BIw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Math-BoldItalic.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Math-BoldItalic.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Math-BoldItalic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-R; src: local('MathJax_SansSerif'), local('MathJax_SansSerif-Regular')}
@font-face {font-family: MJXc-TeX-sans-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-B; src: local('MathJax_SansSerif Bold'), local('MathJax_SansSerif-Bold')}
@font-face {font-family: MJXc-TeX-sans-Bx; src: local('MathJax_SansSerif'); font-weight: bold}
@font-face {font-family: MJXc-TeX-sans-Bw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Bold.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Bold.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-I; src: local('MathJax_SansSerif Italic'), local('MathJax_SansSerif-Italic')}
@font-face {font-family: MJXc-TeX-sans-Ix; src: local('MathJax_SansSerif'); font-style: italic}
@font-face {font-family: MJXc-TeX-sans-Iw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Italic.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Italic.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-script-R; src: local('MathJax_Script'), local('MathJax_Script-Regular')}
@font-face {font-family: MJXc-TeX-script-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Script-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Script-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-type-R; src: local('MathJax_Typewriter'), local('MathJax_Typewriter-Regular')}
@font-face {font-family: MJXc-TeX-type-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Typewriter-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Typewriter-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Typewriter-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-R; src: local('MathJax_Caligraphic'), local('MathJax_Caligraphic-Regular')}
@font-face {font-family: MJXc-TeX-cal-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-B; src: local('MathJax_Main Bold'), local('MathJax_Main-Bold')}
@font-face {font-family: MJXc-TeX-main-Bx; src: local('MathJax_Main'); font-weight: bold}
@font-face {font-family: MJXc-TeX-main-Bw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Main-Bold.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-I; src: local('MathJax_Main Italic'), local('MathJax_Main-Italic')}
@font-face {font-family: MJXc-TeX-main-Ix; src: local('MathJax_Main'); font-style: italic}
@font-face {font-family: MJXc-TeX-main-Iw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Main-Italic.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-R; src: local('MathJax_Main'), local('MathJax_Main-Regular')}
@font-face {font-family: MJXc-TeX-main-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-I; src: local('MathJax_Math Italic'), local('MathJax_Math-Italic')}
@font-face {font-family: MJXc-TeX-math-Ix; src: local('MathJax_Math'); font-style: italic}
@font-face {font-family: MJXc-TeX-math-Iw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size1-R; src: local('MathJax_Size1'), local('MathJax_Size1-Regular')}
@font-face {font-family: MJXc-TeX-size1-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Size1-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size2-R; src: local('MathJax_Size2'), local('MathJax_Size2-Regular')}
@font-face {font-family: MJXc-TeX-size2-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Size2-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size3-R; src: local('MathJax_Size3'), local('MathJax_Size3-Regular')}
@font-face {font-family: MJXc-TeX-size3-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Size3-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size4-R; src: local('MathJax_Size4'), local('MathJax_Size4-Regular')}
@font-face {font-family: MJXc-TeX-size4-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Size4-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-vec-R; src: local('MathJax_Vector'), local('MathJax_Vector-Regular')}
@font-face {font-family: MJXc-TeX-vec-Rw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Regular.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Regular.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-vec-B; src: local('MathJax_Vector Bold'), local('MathJax_Vector-Bold')}
@font-face {font-family: MJXc-TeX-vec-Bx; src: local('MathJax_Vector'); font-weight: bold}
@font-face {font-family: MJXc-TeX-vec-Bw; src /*1*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Bold.eot'); src /*2*/: url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Bold.woff') format('woff'), url('https://assets.hackmd.io/build/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Bold.otf') format('opentype')}
</style></head>

<body style="" data-new-gr-c-s-check-loaded="14.1089.0" data-gr-ext-installed=""><div id="MathJax_Message" style="display: none;"></div>
    <div class="ui-infobar container-fluid unselectable hidden-print comment-enabled">
        <div class="row">
            <div class="col-xs-12 ui-infobar-inner">
                <div class="ui-infobar__user-info">
                    <ul class="list-inline h-[28px] mb-0">
                        <li>
                            <div class="flex text-4 gap-[9px]">
                                
                                    <span class="flex items-center justify-center ui-owner" data-profile="karta134033">
                                         <a class="ui-user-icon m-0 inline-block w-[28px] h-[28px] user-card-popover" style="background-image: url(https://lh3.googleusercontent.com/-8t6tJ5N_q9k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reKpEqiLF5J4yGnqMw6Ckn2daGTog/photo.jpg);" target="_blank" href="https://hackmd.io/@karta134033" data-toggle="popover" data-original-title="" title=""></a>
                                    </span>
                                

                                <div class="flex flex-col items-start">
                                    
                                        <a class="font-bold text-gray-900 cursor-pointer ui-owner hover:underline user-card-popover" data-profile="karta134033" href="https://hackmd.io/@karta134033" data-toggle="popover" data-original-title="" title="">
                                            karta134033
                                        </a>
                                    


                                    <div class="flex">
                                        <div>
                                            <span class="ui-status-lastchange" title="2021年1月10日星期日 15:22">變更於 2 年前</span>
                                            <span class="ui-lastchange" data-createtime="1608365404300" data-updatetime="1610263333813"></span>
                                        </div>

                                        
                                            <a class="text-gray-400 hover:text-gray-400 focus:text-gray-400 ml-2.5" data-toggle="popover" data-placement="bottom" data-html="true" data-content="&lt;i class=&quot;fa fa-globe mr-1&quot; aria-hidden=&quot;true&quot; style=&quot;margin-top: 1px;&quot;&gt;&lt;/i&gt;公開筆記" data-trigger="focus" role="button" tabindex="0" data-original-title="" title="">
                                                <i class="fa fa-fw fa-globe" aria-hidden="true"></i>
                                            </a>
                                        

                                        <span class="ml-1 text-gray-400 ui-more-info hmd-dn" data-toggle="popover" data-original-title="" title="">
                                             <i class="fa fa-fw align-middle ui-connectedGithubIcon fa-github"></i>

                                            <div class="more-info-raw hmd-dn">
                                                <span class="ui-connectedGithub note-status-row hmd-dn">
                                                    <i class="fa ui-connectedGithubIcon fa-github"></i>
                                                    <a class="text-gray-600 ui-synced-text hover:text-gray-600 focus:text-gray-600">與 GitHub 同步</a>

                                                    
                                                </span>
                                            </div>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="items-center hmd-text-right ui-infobar__actions">
                    <ul class="mb-0 list-inline">
                        <li>
                            
                                <span class="community-button ui-like hidden-xs" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="讚賞">
                                    <i class="fa fa-fw"></i>
                                    <span class="count"></span>
                                </span>

                                <span class="community-button ui-bookmark hidden-xs" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="收藏">
                                    <i class="fa fa-fw"></i>
                                </span>

                                
                                    <div class="ui-notification dropdown ">
                                        <span id="notificationLabel" class="ui--subscribed hidden-xs" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                            <div class="ui-notification-status community-button" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="訂閱">
                                                <i class="fa fa-fw fa-bell"></i>
                                            </div>
                                        </span>

                                        <ul class="dropdown-menu" aria-labelledby="notificationLabel">
                                            <li class="ui-notification-watch notification-menu-item ">
                                                <i class="fa fa-check fa-fw"></i>
                                                <i class="fa fa-bell fa-fw"></i>
                                                <div class="info">
                                                    <div class="title">
                                                        所有通知
                                                    </div>
                                                    <div class="description">
                                                        當有任何變更時將會收到通知
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="ui-notification-mention notification-menu-item ">
                                                <i class="fa fa-check fa-fw"></i>
                                                <i class="fa fa-at fa-fw"></i>
                                                <div class="info">
                                                    <div class="title">
                                                        提及我
                                                    </div>
                                                    <div class="description">
                                                        當有人提及我時才會收到通知
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="divider"></li>
                                            <!--
                                                <li class="ui-notification-list notification-menu-item"><span><a href="#"><i class="fa fa-list-ul fa-fw"></i>我的訂閱列表</a></span></li>
                                            -->
                                            <li class="ui-notification-unsubscribe notification-menu-item"><i class="fa fa-bell-slash-o fa-fw"></i>取消訂閱</li>
                                        </ul>
                                        <span class="ui-notification-subscribe community-button hidden-xs" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="訂閱">
                                            <i class="fa fa-fw fa-bell-o"></i>
                                        </span>
                                    </div>
                                
                            
                        </li>

                        
                            <li>
                                <a href="https://hackmd.io/@karta134033/HJ4vSVjnP/edit?both" class="ui-edit btn btn-default btn-md"><i class="fa fa-pencil"></i> <span class="hidden-xs" style="margin-left: 3px">編輯</span></a>
                            </li>
                        
                    </ul>
                </div>

                <div class="clearfix"></div>
            </div>
        </div>
        
        <div class="ui-comment-app" id="hackmd-app" style="right: -45px; width: 45px;">
            <div id="comment-app"><div class="open-comments"><div><button class="ui-open-comments btn btn-default"><i class="fa fa-commenting" aria-hidden="true"></i><span class="text">0 篇留言</span></button></div><div style="display: none;"><div class="comment-settings" id="comment-settings"><img src="./CUDA Programming - HackMD_files/comments-settings.svg" style="margin-right: 5px;"><div>留言設定</div></div></div></div><div class="comments-scroller"><div class="comments-containers"></div></div></div>
        </div>
        
    </div>

    <!-- Markdown rendered container -->
    <div id="doc" class="container-fluid markdown-body comment-enabled" data-hard-breaks="true"><h1 class="part" data-startline="5" data-endline="5" id="CUDA-Programming" data-id="CUDA-Programming"><a class="anchor hidden-xs" href="https://hackmd.io/@karta134033/HJ4vSVjnP#CUDA-Programming" title="CUDA-Programming" smoothhashscroll=""><span class="octicon octicon-link"></span></a><span data-position="24" data-size="16">CUDA Programming</span></h1><h2 class="part" data-startline="7" data-endline="7" id="Q1" data-id="Q1"><a class="anchor hidden-xs" href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q1" title="Q1" smoothhashscroll=""><span class="octicon octicon-link"></span></a><span data-position="45" data-size="2">Q1</span></h2><blockquote class="part" data-startline="8" data-endline="8">
<p data-position="51" data-size="0"><span data-position="51" data-size="93">What are the pros and cons of the three methods? Give an assumption about their performances.</span></p>
</blockquote><ul class="part" data-startline="10" data-endline="54">
<li class="" data-startline="10" data-endline="34" data-position="148" data-size="0">
<h3 class="" id="Host-記憶體配置對比" data-id="Host-記憶體配置對比"><a class="anchor hidden-xs" href="https://hackmd.io/@karta134033/HJ4vSVjnP#Host-%E8%A8%98%E6%86%B6%E9%AB%94%E9%85%8D%E7%BD%AE%E5%B0%8D%E6%AF%94" title="Host-記憶體配置對比" smoothhashscroll=""><span class="octicon octicon-link"></span></a><span data-position="152" data-size="12">Host 記憶體配置對比</span></h3>
<p data-position="165" data-size="0"><img src="./CUDA Programming - HackMD_files/kZi1K2A.png" alt="" class="" data-position="169" data-size="36" loading="lazy"></p>
<p data-position="207" data-size="0"><strong data-position="211" data-size="0"><span data-position="213" data-size="6">malloc</span></strong></p>
<ul>
<li class="" data-startline="14" data-endline="17" data-position="228" data-size="0"><span data-position="228" data-size="3">優點:</span>
<ul>
<li class="" data-startline="15" data-endline="15" data-position="242" data-size="0"><span data-position="242" data-size="4">有些資源</span><strong data-position="246" data-size="0"><span data-position="248" data-size="4">無法預期</span></strong><span data-position="254" data-size="56">被使用的生命週期，可以利用"malloc"在需要的時候配置記憶體，該記憶體會被配置在Heap區域，不會自動清除。</span></li>
<li class="" data-startline="16" data-endline="16" data-position="321" data-size="0"><span data-position="321" data-size="18">記憶體生命週期交由程式設計師所掌控。</span></li>
<li class="" data-startline="17" data-endline="17" data-position="350" data-size="0"><span data-position="350" data-size="32">可製作出資料結構如:單鏈鏈結串列、雙鏈鏈結串列、樹狀結構等…</span></li>
</ul>
</li>
<li class="" data-startline="18" data-endline="22" data-position="389" data-size="0"><span data-position="389" data-size="3">缺點:</span>
<ul>
<li class="" data-startline="19" data-endline="19" data-position="403" data-size="0"><span data-position="403" data-size="40">配置記憶體可能失敗(若記憶體不足)，若沒有做配置上的偵測可能會導致不預期的結果。</span></li>
<li class="" data-startline="20" data-endline="20" data-position="454" data-size="0"><span data-position="454" data-size="37">若沒適當的free掉不須使用的memory可能產生memory leak。</span></li>
<li class="" data-startline="21" data-endline="22" data-position="503" data-size="0"><span data-position="503" data-size="32">分配到的記憶體是Pageable的，可能被swap到虛擬記憶體。</span></li>
</ul>
</li>
</ul>
<p data-position="545" data-size="0"><strong data-position="549" data-size="0"><span data-position="551" data-size="13">cudaHostAlloc</span></strong></p>
<ul>
<li class="" data-startline="24" data-endline="27" data-position="573" data-size="0"><span data-position="573" data-size="3">優點:</span>
<ul>
<li class="" data-startline="25" data-endline="25" data-position="587" data-size="0"><span data-position="587" data-size="41">讓系統在實體的memory分配記憶體，不會做頁面置換(pinned memory)</span></li>
<li class="" data-startline="26" data-endline="26" data-position="639" data-size="0"><span data-position="639" data-size="34">當資料要從device拷貝回host端時較為迅速(不用做分頁檢查)。</span></li>
<li class="" data-startline="27" data-endline="27" data-position="684" data-size="0"><span data-position="684" data-size="30">支援零拷貝的方式將host的memory映射到device端</span></li>
</ul>
</li>
<li class="" data-startline="28" data-endline="32" data-position="721" data-size="0"><span data-position="721" data-size="3">缺點:</span>
<ul>
<li class="" data-startline="29" data-endline="29" data-position="735" data-size="0"><span data-position="735" data-size="26">不可分配過多，否則將會導致系統用於分頁的記憶體減少。</span></li>
<li class="" data-startline="30" data-endline="30" data-position="772" data-size="0"><span data-position="772" data-size="22">一樣可能會有配置失敗的問題(若記憶體不足)。</span></li>
<li class="" data-startline="31" data-endline="32" data-position="805" data-size="0"><span data-position="805" data-size="40">一樣需要適當的free掉不再使用的memory，避免產生memory leak。</span></li>
</ul>
</li>
</ul>
<p data-position="851" data-size="0"><strong data-position="855" data-size="0"><span data-position="857" data-size="14">預期performances</span></strong><span data-position="873" data-size="16">: cudaHostAlloc </span><span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-1-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 113%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x003E;&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.279em; padding-bottom: 0.39em;">&gt;</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></span></span><script type="math/tex" id="MathJax-Element-1">\gt</script></span><span data-position="894" data-size="7"> malloc</span></p>
</li>
<li class="" data-startline="35" data-endline="54" data-position="905" data-size="0">
<h3 class="" id="Device-記憶體配置對比" data-id="Device-記憶體配置對比"><a class="anchor hidden-xs" href="https://hackmd.io/@karta134033/HJ4vSVjnP#Device-%E8%A8%98%E6%86%B6%E9%AB%94%E9%85%8D%E7%BD%AE%E5%B0%8D%E6%AF%94" title="Device-記憶體配置對比" smoothhashscroll=""><span class="octicon octicon-link"></span></a><span data-position="909" data-size="14">Device 記憶體配置對比</span></h3>
<p data-position="924" data-size="0"><strong data-position="928" data-size="0"><span data-position="930" data-size="10">cudaMalloc</span></strong><span data-position="942" data-size="21"> 為linear memory的配置方式。</span></p>
<ul>
<li class="" data-startline="37" data-endline="38" data-position="970" data-size="0"><span data-position="970" data-size="3">優點:</span>
<ul>
<li class="" data-startline="38" data-endline="38" data-position="984" data-size="0"><span data-position="984" data-size="38">CPU可以直接且線性尋址所有可利用的記憶體位置，無需訴諸任何分段或分頁機制。</span></li>
</ul>
</li>
<li class="" data-startline="39" data-endline="41" data-position="1029" data-size="0"><span data-position="1029" data-size="3">缺點:</span>
<ul>
<li class="" data-startline="40" data-endline="41" data-position="1043" data-size="0"><span data-position="1043" data-size="19">隨機訪問若比較分散會降低程式執行速度。</span></li>
</ul>
</li>
</ul>
<p data-position="1064" data-size="0"><strong data-position="1068" data-size="0"><span data-position="1070" data-size="15">cudaMallocPitch</span></strong><span data-position="1087" data-size="20"> 為padded memory的配置方式</span><br>
<em data-position="1114" data-size="0"><span data-position="1111" data-size="6">內容來源: </span><a href="https://stackoverflow.com/questions/16119943/how-and-when-should-i-use-pitched-pointer-with-the-cuda-api" target="_blank" rel="noopener"><span data-position="1117" data-size="104">https://stackoverflow.com/questions/16119943/how-and-when-should-i-use-pitched-pointer-with-the-cuda-api</span></a></em></p>
<ul>
<li class="" data-startline="45" data-endline="48" data-position="1232" data-size="0"><span data-position="1232" data-size="3">優點:</span>
<ul>
<li class="" data-startline="46" data-endline="47" data-position="1247" data-size="0"><span data-position="1247" data-size="31">減少"bank conflicts"，進而增加訪問資料的速度。</span><br>
<img src="./CUDA Programming - HackMD_files/VXUGFUh.png" alt="" class="" data-position="1281" data-size="36" loading="lazy"></li>
<li class="" data-startline="48" data-endline="48" data-position="1339" data-size="0"><span data-position="1339" data-size="48">分配到的記憶體會加入"pitch"使記憶體aligned，進而增加訪問資料的速度，提升程式效能。</span></li>
</ul>
</li>
<li class="" data-startline="49" data-endline="52" data-position="1394" data-size="0"><span data-position="1394" data-size="3">缺點:</span>
<ul>
<li class="" data-startline="50" data-endline="50" data-position="1408" data-size="0"><span data-position="1408" data-size="43">為了有效利用padding的優化機制，訪問資料需要加上"pitch"，使用上相對複雜。</span></li>
<li class="" data-startline="51" data-endline="52" data-position="1462" data-size="0"><span data-position="1462" data-size="69">因為分配記憶體時加入"pitch"來達到padding，因此在拷貝的資料量上可能會多於cudaMalloc(若不須padding則會相同)</span></li>
</ul>
</li>
</ul>
<p data-position="1537" data-size="0"><strong data-position="1541" data-size="0"><span data-position="1543" data-size="14">預期performances</span></strong><span data-position="1559" data-size="19">: cudaMallocPitch  </span><span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-2-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 113%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x2265;&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-4" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-5" class="mjx-mrow"><span id="MJXc-Node-6" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.335em; padding-bottom: 0.501em;">≥</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≥</mo></math></span></span><script type="math/tex" id="MathJax-Element-2">\geq</script></span><span data-position="1584" data-size="12">  cudaMalloc</span></p>
</li>
</ul><h3 class="part" data-startline="55" data-endline="55" id="–Method-2-vs-Method-1–" data-id="–Method-2-vs-Method-1–"><a class="anchor hidden-xs" href="https://hackmd.io/@karta134033/HJ4vSVjnP#%E2%80%93Method-2-vs-Method-1%E2%80%93" title="–Method-2-vs-Method-1–" smoothhashscroll=""><span class="octicon octicon-link"></span></a><span data-position="1608" data-size="24">–Method 2 vs Method 1–</span></h3><p class="part" data-startline="56" data-endline="56" data-position="1633" data-size="0"><span data-position="1633" data-size="32">綜合以上觀點，預期performances: Method 2 </span><span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-3-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 113%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x003E;&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-7" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-8" class="mjx-mrow"><span id="MJXc-Node-9" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.279em; padding-bottom: 0.39em;">&gt;</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></span></span><script type="math/tex" id="MathJax-Element-3">\gt</script></span><span data-position="1670" data-size="9"> Method 1</span></p><h3 class="part" data-startline="58" data-endline="58" id="–Method3–" data-id="–Method3–"><a class="anchor hidden-xs" href="https://hackmd.io/@karta134033/HJ4vSVjnP#%E2%80%93Method3%E2%80%93" title="–Method3–" smoothhashscroll=""><span class="octicon octicon-link"></span></a><span data-position="1685" data-size="11">–Method3–</span></h3><p class="part" data-startline="59" data-endline="59" data-position="1697" data-size="0"><span data-position="1697" data-size="57">Method1 與 Method2 都是一個thread處理一個pixel，而Method3是一個thread處理</span><strong data-position="1754" data-size="0"><span data-position="1756" data-size="2">多個</span></strong><span data-position="1760" data-size="41">pixel，若在相同的thread數目下Method3所需的block數目會較少。</span></p><ul class="part" data-startline="60" data-endline="64">
<li class="" data-startline="60" data-endline="61" data-position="1804" data-size="0"><span data-position="1804" data-size="3">優點:</span>
<ul>
<li class="" data-startline="61" data-endline="61" data-position="1814" data-size="0"><span data-position="1814" data-size="30">可以減少block的數目，減少blocks搬動到SM的次數。</span></li>
</ul>
</li>
<li class="" data-startline="62" data-endline="64" data-position="1847" data-size="0"><span data-position="1847" data-size="3">缺點:</span>
<ul>
<li class="" data-startline="63" data-endline="64" data-position="1857" data-size="0"><span data-position="1857" data-size="28">warp中的thread計算需要處理不同的資料，可能有"</span><strong data-position="1885" data-size="0"><span data-position="1887" data-size="15">warp divergence</span></strong><span data-position="1904" data-size="22">"的問題產生，會嚴重影響了GPU的執行效率。</span></li>
</ul>
</li>
</ul><p class="part" data-startline="65" data-endline="65" data-position="1928" data-size="0"><strong data-position="1928" data-size="0"><span data-position="1930" data-size="14">預期performances</span></strong><span data-position="1946" data-size="11">: Method 1 </span><span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-4-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 113%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x003E;&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-10" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-11" class="mjx-mrow"><span id="MJXc-Node-12" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.279em; padding-bottom: 0.39em;">&gt;</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></span></span><script type="math/tex" id="MathJax-Element-4">\gt</script></span><span data-position="1962" data-size="9">  Method3</span></p><h3 class="part" data-startline="67" data-endline="67" id="–小結–" data-id="–小結–"><a class="anchor hidden-xs" href="https://hackmd.io/@karta134033/HJ4vSVjnP#%E2%80%93%E5%B0%8F%E7%B5%90%E2%80%93" title="–小結–" smoothhashscroll=""><span class="octicon octicon-link"></span></a><span data-position="1977" data-size="6">–小結–</span></h3><p class="part" data-startline="68" data-endline="68" data-position="1984" data-size="0"><span data-position="1984" data-size="15">預期執行速度Method 2 </span><span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-5-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 113%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x003E;&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-13" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-14" class="mjx-mrow"><span id="MJXc-Node-15" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.279em; padding-bottom: 0.39em;">&gt;</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></span></span><script type="math/tex" id="MathJax-Element-5">\gt</script></span><span data-position="2004" data-size="10"> Method 1 </span><span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-6-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 113%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x003E;&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-16" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-17" class="mjx-mrow"><span id="MJXc-Node-18" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.279em; padding-bottom: 0.39em;">&gt;</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&gt;</mo></math></span></span><script type="math/tex" id="MathJax-Element-6">\gt</script></span><span data-position="2019" data-size="9">  Method3</span></p><h2 class="part" data-startline="70" data-endline="70" id="Q2" data-id="Q2"><a class="anchor hidden-xs" href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q2" title="Q2" smoothhashscroll=""><span class="octicon octicon-link"></span></a><span data-position="2033" data-size="2">Q2</span></h2><blockquote class="part" data-startline="71" data-endline="73">
<p data-position="2038" data-size="0"><span data-position="2038" data-size="107">How are the performances of the three methods? Plot a chart to show the differences among the three methods</span><br>
<span data-position="2146" data-size="26">for VIEW 1 and VIEW 2, and</span><br>
<span data-position="2173" data-size="53">for different maxIteration (1000, 10000, and 100000).</span></p>
</blockquote><p class="part" data-startline="75" data-endline="75" data-position="2228" data-size="0"><span data-position="2228" data-size="6">單位: ms</span></p><table class="part" data-startline="76" data-endline="82">
<thead>
<tr>
<th><span data-position="2237" data-size="6">Method</span></th>
<th><span data-position="2248" data-size="21">View 1 Iteration 1000</span></th>
<th><span data-position="2271" data-size="22">View 1 Iteration 10000</span></th>
<th><span data-position="2296" data-size="23">View 1 Iteration 100000</span></th>
<th><span data-position="2322" data-size="21">View 2 Iteration 1000</span></th>
<th><span data-position="2345" data-size="22">View 2 Iteration 10000</span></th>
<th><span data-position="2370" data-size="23">View 2 Iteration 100000</span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span data-position="2465" data-size="8">Method 1</span></td>
<td><span data-position="2476" data-size="6">11.768</span></td>
<td><span data-position="2488" data-size="6">34.824</span></td>
<td><span data-position="2500" data-size="7">306.009</span></td>
<td><span data-position="2510" data-size="5">6.686</span></td>
<td><span data-position="2518" data-size="6">12.452</span></td>
<td><span data-position="2526" data-size="6">39.512</span></td>
</tr>
<tr>
<td><span data-position="2536" data-size="8">Method 2</span></td>
<td><span data-position="2547" data-size="6">11.939</span></td>
<td><span data-position="2560" data-size="6">36.326</span></td>
<td><span data-position="2572" data-size="7">308.237</span></td>
<td><span data-position="2581" data-size="5">8.074</span></td>
<td><span data-position="2589" data-size="6">14.750</span></td>
<td><span data-position="2597" data-size="6">42.447</span></td>
</tr>
<tr>
<td><span data-position="2607" data-size="8">Method 3</span></td>
<td><span data-position="2618" data-size="6">17.851</span></td>
<td><span data-position="2631" data-size="6">42.215</span></td>
<td><span data-position="2642" data-size="7">362.300</span></td>
<td><span data-position="2652" data-size="5">8.908</span></td>
<td><span data-position="2660" data-size="6">16.501</span></td>
<td><span data-position="2668" data-size="6">47.925</span></td>
</tr>
<tr>
<td><img src="./CUDA Programming - HackMD_files/qrr2QRH.png" alt="" class="" data-position="2677" data-size="36" loading="lazy"></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><img src="./CUDA Programming - HackMD_files/0fR1RGa.png" alt="" class="" data-position="2714" data-size="36" loading="lazy"></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table><h2 class="part" data-startline="85" data-endline="85" id="Q3" data-id="Q3"><a class="anchor hidden-xs" href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q3" title="Q3" smoothhashscroll=""><span class="octicon octicon-link"></span></a><span data-position="2755" data-size="2">Q3</span></h2><blockquote class="part" data-startline="86" data-endline="86">
<p data-position="2761" data-size="0"><span data-position="2761" data-size="138">Explain the performance differences thoroughly based on your experimental results. Does the results match your assumption? Why or why not.</span></p>
</blockquote><p class="part" data-startline="88" data-endline="89" data-position="2901" data-size="0"><span data-position="2901" data-size="75">根據實驗結對照之前的推論，Method 3的確是速度最慢的，但比較令人訝異的是Method1 比 Method2還要快，且在View2時差異最為明顯。</span><br>
<span data-position="2977" data-size="26">Method2 會輸給 Method1的主因有兩個:</span></p><ol class="part" data-startline="90" data-endline="112" data-position="3004" data-size="0">
<li class="" data-startline="90" data-endline="97" data-position="3007" data-size="0">
<p data-position="3004" data-size="0"><span data-position="3007" data-size="36">cudaMallocPitch() 呼叫比 cudaMalloc()耗時</span><br>
<span data-position="3045" data-size="41">來源: 書籍Multicore-and-GPU-Programming 第496頁</span><br>
<span data-position="3088" data-size="3">原文:</span></p>
<blockquote class="">
<p data-position="3104" data-size="0"><span data-position="3104" data-size="155">cudaMallocPitch() call is more expensive than the plain cudaMalloc() one.Something similar can be expected for the host memory allocation. The small amount</span><br>
<span data-position="3264" data-size="81">of data that move through the PCIe and the small duration of the kernel execution</span><br>
<span data-position="3350" data-size="85">relative to the memory allocation, as shown in Figure 6.27, do not allow the benefits</span><br>
<span data-position="3440" data-size="44">of improved memory management to materialize</span></p>
</blockquote>
</li>
<li class="" data-startline="98" data-endline="112" data-position="3489" data-size="0">
<p data-position="3486" data-size="0"><span data-position="3489" data-size="27">cudaHostAlloc的優勢並未在此應用中展現出來</span><br>
<span data-position="3518" data-size="67">如果需要頻繁的在同一個memory buffer做傳輸，此時用到Pinned Memory在速度上能明顯優於原本的malloc的方式。</span><br>
<span data-position="3587" data-size="152">以這次作業的應用我們僅有在最後要將device端的資料傳回host端的時候才需要用到Pinned Memory，能得到的效能提升非常有限，且"Pinning"需要OS支援，會有額外的overhead產生，若資料傳輸的優勢無法彌補Pinning額外的overhead，整體而言效能會低於malloc的方式。</span></p>
<p data-position="3747" data-size="0"><span data-position="3751" data-size="37">由nvprof來看 View 2 100000 Iteration的結果:</span></p>
<ul>
<li class="" data-startline="103" data-endline="106" data-position="3795" data-size="0"><span data-position="3795" data-size="6">malloc</span><br>
<img src="./CUDA Programming - HackMD_files/uS6Icoi.png" alt="" class="" data-position="3804" data-size="36" loading="lazy"><br>
<span data-position="3843" data-size="22">cudaMemcpy 平均為19.958ms</span><br>
<span data-position="3868" data-size="22">cudaMalloc 平均為6.4263ms</span></li>
<li class="" data-startline="107" data-endline="112" data-position="3915" data-size="0"><span data-position="3915" data-size="13">cudaHostAlloc</span><br>
<img src="./CUDA Programming - HackMD_files/KozkJLF.png" alt="" class="" data-position="3931" data-size="36" loading="lazy"><br>
<span data-position="3970" data-size="22">cudaMemcpy 平均為19.279ms</span><br>
<span data-position="3995" data-size="22">cudaMalloc 平均為13.821ms</span><br>
<span data-position="4018" data-size="100">雖然cudaHostAlloc做cudaMemcpy的時間較短，但分配記憶體的時間明顯多於malloc的方式，也因為View 2的執行時間較短，所以Method1 與 Method2的差異又更加明顯。</span></li>
</ul>
</li>
</ol><h2 class="part" data-startline="113" data-endline="113" id="Q4" data-id="Q4"><a class="anchor hidden-xs" href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q4" title="Q4" smoothhashscroll=""><span class="octicon octicon-link"></span></a><span data-position="4149" data-size="2">Q4</span></h2><blockquote class="part" data-startline="114" data-endline="114">
<p data-position="4155" data-size="0"><span data-position="4155" data-size="88">Can we do even better? Think a better approach and explain it. Implement your method in </span><a href="http://kernel4.cu/" target="_blank" rel="noopener"><span data-position="4243" data-size="10">kernel4.cu</span></a></p>
</blockquote><p class="part" data-startline="117" data-endline="117" data-position="4256" data-size="0"><span data-position="4256" data-size="51">優化的結果呈現以View 1 100000 Iteration為基準，View 2的優化方式大同小異。</span></p><ul class="part" data-startline="118" data-endline="380">
<li class="" data-startline="118" data-endline="124" data-position="4310" data-size="0">
<p data-position="4308" data-size="0"><span data-position="4310" data-size="3">優化一</span></p>
<ul>
<li class="" data-startline="119" data-endline="120" data-position="4320" data-size="0"><span data-position="4320" data-size="3">方法:</span><br>
<span data-position="4326" data-size="65">直接使用hostFE()傳入的img作為拷貝的對象，cudaMalloc只需分配device的memory，減少記憶體分配的時間。</span></li>
<li class="" data-startline="121" data-endline="124" data-position="4404" data-size="0"><span data-position="4404" data-size="3">結果:</span><br>
<img src="./CUDA Programming - HackMD_files/7TpZ4ck.png" alt="" class="" data-position="4410" data-size="36" loading="lazy"><br>
<span data-position="4449" data-size="10">加速約: 1.12倍</span></li>
</ul>
</li>
<li class="" data-startline="125" data-endline="131" data-position="4479" data-size="0">
<p data-position="4477" data-size="0"><span data-position="4479" data-size="3">優化二</span></p>
<ul>
<li class="" data-startline="126" data-endline="127" data-position="4490" data-size="0"><span data-position="4490" data-size="3">方法:</span><br>
<span data-position="4495" data-size="100">原本設定一個block處理的threads數目為32 * 32(最大值)，但因為傳入的圖檔的為1600 * 1200，1200無法被32整除，所以改設定為"16"或"8"，其中"8"是加速最多的設定方式。</span></li>
<li class="" data-startline="128" data-endline="131" data-position="4611" data-size="0"><span data-position="4611" data-size="3">結果:</span><br>
<img src="./CUDA Programming - HackMD_files/UJyWWHu.png" alt="" class="" data-position="4617" data-size="36" loading="lazy"><br>
<span data-position="4656" data-size="10">加速約: 1.22倍</span></li>
</ul>
</li>
<li class="" data-startline="132" data-endline="205" data-position="4686" data-size="0">
<p data-position="4684" data-size="0"><span data-position="4686" data-size="4">優化三 </span><font color="red"><span data-position="4708" data-size="21">此方法不夠通用，最後上傳的版本已棄用此方法</span></font></p>
<ul>
<li class="" data-startline="133" data-endline="201" data-position="4743" data-size="0">
<p data-position="4737" data-size="0"><span data-position="4743" data-size="3">方法:</span><br>
<span data-position="4749" data-size="16">紀錄View 1各個數值的次數，</span></p>
<pre><code class="t hljs">數值: <span class="hljs-number">0</span>  出現次數: <span class="hljs-number">56153</span>
數值: <span class="hljs-number">1</span>  出現次數: <span class="hljs-number">142512</span>
數值: <span class="hljs-number">2</span>  出現次數: <span class="hljs-number">469605</span>
數值: <span class="hljs-number">3</span>  出現次數: <span class="hljs-number">231319</span>
數值: <span class="hljs-number">4</span>  出現次數: <span class="hljs-number">141645</span>
數值: <span class="hljs-number">5</span>  出現次數: <span class="hljs-number">82288</span>
數值: <span class="hljs-number">6</span>  出現次數: <span class="hljs-number">58820</span>
數值: <span class="hljs-number">7</span>  出現次數: <span class="hljs-number">39489</span>
數值: <span class="hljs-number">8</span>  出現次數: <span class="hljs-number">30405</span>
數值: <span class="hljs-number">9</span>  出現次數: <span class="hljs-number">22485</span>
數值: <span class="hljs-number">10</span> 出現次數: <span class="hljs-number">18595</span>
數值: <span class="hljs-number">11</span> 出現次數: <span class="hljs-number">14154</span>
數值: <span class="hljs-number">12</span> 出現次數: <span class="hljs-number">12260</span>
數值: <span class="hljs-number">13</span> 出現次數: <span class="hljs-number">9854</span>
數值: <span class="hljs-number">14</span> 出現次數: <span class="hljs-number">8589</span>
數值: <span class="hljs-number">15</span> 出現次數: <span class="hljs-number">7116</span>
數值: <span class="hljs-number">16</span> 出現次數: <span class="hljs-number">6516</span>
數值: <span class="hljs-number">17</span> 出現次數: <span class="hljs-number">5314</span>
數值: <span class="hljs-number">18</span> 出現次數: <span class="hljs-number">4991</span>
數值: <span class="hljs-number">19</span> 出現次數: <span class="hljs-number">4145</span>
數值: <span class="hljs-number">20</span> 出現次數: <span class="hljs-number">4016</span>
數值: <span class="hljs-number">21</span> 出現次數: <span class="hljs-number">3368</span>
數值: <span class="hljs-number">22</span> 出現次數: <span class="hljs-number">3219</span>
數值: <span class="hljs-number">23</span> 出現次數: <span class="hljs-number">2835</span>
數值: <span class="hljs-number">24</span> 出現次數: <span class="hljs-number">2756</span>
數值: <span class="hljs-number">25</span> 出現次數: <span class="hljs-number">2280</span>
數值: <span class="hljs-number">26</span> 出現次數: <span class="hljs-number">2161</span>
數值: <span class="hljs-number">27</span> 出現次數: <span class="hljs-number">1979</span>

<span class="hljs-operator">~</span><span class="hljs-operator">~</span>
略
<span class="hljs-operator">~</span><span class="hljs-operator">~</span>

數值: <span class="hljs-number">27220</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">27528</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">27556</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">28283</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">28827</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">29325</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">31405</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">32582</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">34277</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">34786</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">35858</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">37917</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">37970</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">38878</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">39122</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">40034</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">42780</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">44975</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">47155</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">53234</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">54792</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">58649</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">60911</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">62408</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">64847</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">68383</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">95307</span> 出現次數: <span class="hljs-number">1</span>
數值: <span class="hljs-number">100000</span> 出現次數: <span class="hljs-number">482047</span>
</code></pre>
<p data-position="6310" data-size="0"><span data-position="6318" data-size="39">由分布的資訊可以得知數值間是相當分散的，數值: 100000出現次數是最多的。</span><br>
<span data-position="6360" data-size="67">數值: 95308 到 數值: 99999完全沒有出現過，可以推斷只要迴圈跑到第95308次就可以確定他的最終數值一定是100000。</span><br>
<span data-position="6430" data-size="32">根據以上的推論將View 1的迴圈改寫只最多迭代到95308次。</span></p>
</li>
<li class="" data-startline="202" data-endline="205" data-position="6490" data-size="0">
<p data-position="6484" data-size="0"><span data-position="6490" data-size="3">結果:</span><br>
<img src="./CUDA Programming - HackMD_files/6Yijx5H.png" alt="" class="" data-position="6496" data-size="36" loading="lazy"><br>
<span data-position="6535" data-size="10">加速約: 1.47倍</span></p>
</li>
</ul>
</li>
<li class="" data-startline="206" data-endline="234" data-position="6566" data-size="0">
<p data-position="6563" data-size="0"><span data-position="6566" data-size="4">優化四 </span><font color="red"><span data-position="6588" data-size="4">(失敗)</span></font></p>
<ul>
<li class="" data-startline="207" data-endline="228" data-position="6606" data-size="0"><span data-position="6606" data-size="2">方法</span><br>
<span data-position="6611" data-size="50">將原本的寫法改為streaming的方式，使資料從device端拷貝到host端的時間可以被均攤掉。</span><pre><code class="cpp hljs">cudaStream_t streams<span class="token punctuation">[</span>STREAMS_NUM<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> STREAMS_NUM<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
    <span class="token function">cudaStreamCreate</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>streams<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">cudaMalloc</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>temp_img<span class="token punctuation">,</span> resX <span class="token operator">*</span> resY <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> STREAMS_NUM<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> mem_offset <span class="token operator">=</span> i <span class="token operator">*</span> resX <span class="token operator">*</span> <span class="token punctuation">(</span>resY <span class="token operator">/</span> STREAMS_NUM<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> start_y <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token punctuation">(</span>resY <span class="token operator">/</span> STREAMS_NUM<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token keyword">int</span> x_blocks <span class="token operator">=</span> resX <span class="token operator">/</span> BLOCK_WIDTH<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token keyword">int</span> y_blocks <span class="token operator">=</span> resY <span class="token operator">/</span> BLOCK_WIDTH <span class="token operator">/</span> STREAMS_NUM<span class="token punctuation">;</span>
    dim3 <span class="token function">block_size</span><span class="token punctuation">(</span>BLOCK_WIDTH<span class="token punctuation">,</span> BLOCK_WIDTH<span class="token punctuation">)</span><span class="token punctuation">;</span>
    dim3 <span class="token function">num_block</span><span class="token punctuation">(</span>x_blocks<span class="token punctuation">,</span> y_blocks<span class="token punctuation">)</span><span class="token punctuation">;</span>
    mandelKernel<span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>num_block<span class="token punctuation">,</span> block_size<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> streams<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>upperX<span class="token punctuation">,</span> upperY<span class="token punctuation">,</span> lowerX<span class="token punctuation">,</span> lowerY<span class="token punctuation">,</span> temp_img<span class="token punctuation">,</span> resX<span class="token punctuation">,</span> resY<span class="token punctuation">,</span> maxIterations<span class="token punctuation">,</span> stepX<span class="token punctuation">,</span> stepY<span class="token punctuation">,</span> is_view1<span class="token punctuation">,</span> start_y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cudaMemcpyAsync</span><span class="token punctuation">(</span>img <span class="token operator">+</span> mem_offset<span class="token punctuation">,</span> temp_img <span class="token operator">+</span> mem_offset<span class="token punctuation">,</span> resX <span class="token operator">*</span> resY <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">/</span> STREAMS_NUM<span class="token punctuation">,</span> cudaMemcpyDeviceToHost<span class="token punctuation">,</span> streams<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">cudaDeviceSynchronize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">cudaFree</span><span class="token punctuation">(</span>temp_img<span class="token punctuation">)</span><span class="token punctuation">;</span>     
</code></pre>
</li>
<li class="" data-startline="229" data-endline="231" data-position="7672" data-size="0"><span data-position="7672" data-size="3">結果:</span><br>
<img src="./CUDA Programming - HackMD_files/ecWsmwD.png" alt="" class="" data-position="7678" data-size="36" loading="lazy"><br>
<span data-position="7717" data-size="15">加速約: 1.46倍(無成長)</span></li>
<li class="" data-startline="232" data-endline="234" data-position="7751" data-size="0"><span data-position="7751" data-size="3">原因:</span><br>
<span data-position="7757" data-size="63">資料拷貝的時間並非影響程式速度的主因，額外呼叫cudaStream_t與等待device端同步的overhead反而影響了效能。</span></li>
</ul>
</li>
<li class="" data-startline="235" data-endline="249" data-position="7839" data-size="0">
<p data-position="7837" data-size="0"><span data-position="7839" data-size="4">優化五 </span><font color="red"><span data-position="7861" data-size="4">(失敗)</span></font></p>
<ul>
<li class="" data-startline="236" data-endline="243" data-position="7879" data-size="0"><span data-position="7880" data-size="3">方法:</span><br>
<span data-position="7886" data-size="27">對傳入到device端的陣列加上prefetch的機制</span><pre><code class="cpp hljs"><span class="token keyword">int</span> deviceId<span class="token punctuation">;</span>
<span class="token function">cudaGetDevice</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">cudaMemPrefetchAsync</span><span class="token punctuation">(</span>temp_img<span class="token punctuation">,</span> resX <span class="token operator">*</span> resY <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> deviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
</li>
<li class="" data-startline="244" data-endline="246" data-position="8105" data-size="0"><span data-position="8105" data-size="3">結果:</span><br>
<img src="./CUDA Programming - HackMD_files/eTtaA7F.png" alt="" class="" data-position="8111" data-size="36" loading="lazy"><br>
<span data-position="8150" data-size="15">加速約: 1.46倍(無成長)</span></li>
<li class="" data-startline="247" data-endline="249" data-position="8189" data-size="0"><span data-position="8189" data-size="3">原因:</span><br>
<span data-position="8195" data-size="55">device端只有對陣列做一次的寫入而非頻繁的讀取與寫入，cudaMemPrefetchAsync無法發揮優勢</span></li>
</ul>
</li>
<li class="" data-startline="250" data-endline="266" data-position="8260" data-size="0">
<p data-position="8258" data-size="0"><span data-position="8260" data-size="4">優化六 </span><font color="red"><span data-position="8282" data-size="4">(失敗)</span></font></p>
<ul>
<li class="" data-startline="251" data-endline="260" data-position="8300" data-size="0"><span data-position="8300" data-size="3">方法:</span><br>
<span data-position="8306" data-size="44">對時間計算影響最大的部分還是mandelbrot的計算，若要再優化下去勢必得從這裡下手。</span><br>
<span data-position="8353" data-size="51">在float計算的部分，cuda提供了float的Intrinsics，根據官方的api可以將其改寫為</span><pre><code class="cpp hljs"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">__fadd_rn</span><span class="token punctuation">(</span><span class="token function">__fmul_rn</span><span class="token punctuation">(</span>z_re<span class="token punctuation">,</span> z_re<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">__fmul_rn</span><span class="token punctuation">(</span>z_imm<span class="token punctuation">,</span> z_im<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">4.f</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> new_re <span class="token operator">=</span> <span class="token function">__fsub_rn</span><span class="token punctuation">(</span><span class="token function">__fmul_rn</span><span class="token punctuation">(</span>z_re<span class="token punctuation">,</span> z_re<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">__fmul_rn</span><span class="token punctuation">(</span>z_imm<span class="token punctuation">,</span> z_im<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> new_im <span class="token operator">=</span> <span class="token function">__fmul_rn</span><span class="token punctuation">(</span><span class="token number">2.f</span><span class="token punctuation">,</span> <span class="token function">__fmul_rn</span><span class="token punctuation">(</span>z_re<span class="token punctuation">,</span> z_im<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
z_re <span class="token operator">=</span> <span class="token function">__fadd_rn</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> new_re<span class="token punctuation">)</span><span class="token punctuation">;</span>
z_im <span class="token operator">=</span> <span class="token function">__fadd_rn</span><span class="token punctuation">(</span>y <span class="token operator">+</span> new_im<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
<li class="" data-startline="261" data-endline="263" data-position="8751" data-size="0"><span data-position="8751" data-size="3">結果:</span><br>
<img src="./CUDA Programming - HackMD_files/xCZUAfV.png" alt="" class="" data-position="8757" data-size="36" loading="lazy"><br>
<span data-position="8796" data-size="15">加速約: 1.47倍(無成長)</span></li>
<li class="" data-startline="264" data-endline="266" data-position="8830" data-size="0"><span data-position="8830" data-size="3">原因:</span><br>
<span data-position="8836" data-size="32">cuda 在compile時已會將一些算法做優化(如:Fma)。</span></li>
</ul>
</li>
<li class="" data-startline="267" data-endline="293" data-position="8886" data-size="0">
<p data-position="8884" data-size="0"><span data-position="8886" data-size="4">優化七 </span><font color="red"><span data-position="8908" data-size="4">(失敗)</span></font></p>
<ul>
<li class="" data-startline="268" data-endline="290" data-position="8926" data-size="0"><span data-position="8926" data-size="3">方法:</span><br>
<span data-position="8932" data-size="34">浮點數的計算上因為精度的關係double的計算時間會多於float。</span><br>
<span data-position="8969" data-size="44">查閱官方文件後發現cuda提供float的半精度計算方式half，預計計算時間會再縮小。</span><pre><code class="cpp hljs">__half stepX <span class="token operator">=</span> <span class="token function">__float2half</span><span class="token punctuation">(</span><span class="token punctuation">(</span>upperX <span class="token operator">-</span> lowerX<span class="token punctuation">)</span> <span class="token operator">/</span> resX<span class="token punctuation">)</span><span class="token punctuation">;</span>
__half stepY <span class="token operator">=</span> <span class="token function">__float2half</span><span class="token punctuation">(</span><span class="token punctuation">(</span>upperY <span class="token operator">-</span> lowerY<span class="token punctuation">)</span> <span class="token operator">/</span> resY<span class="token punctuation">)</span><span class="token punctuation">;</span>
__half lowX <span class="token operator">=</span> <span class="token function">__float2half</span><span class="token punctuation">(</span>lowerX<span class="token punctuation">)</span><span class="token punctuation">;</span>
__half lowY <span class="token operator">=</span> <span class="token function">__float2half</span><span class="token punctuation">(</span>lowerY<span class="token punctuation">)</span><span class="token punctuation">;</span>
__half col_ <span class="token operator">=</span> <span class="token function">__float2half</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>
__half row_ <span class="token operator">=</span> <span class="token function">__float2half</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>
__half x <span class="token operator">=</span> <span class="token function">__hadd</span><span class="token punctuation">(</span>lowX<span class="token punctuation">,</span> <span class="token function">__hmul</span><span class="token punctuation">(</span>col_<span class="token punctuation">,</span> stepX<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
__half y <span class="token operator">=</span> <span class="token function">__hadd</span><span class="token punctuation">(</span>lowY<span class="token punctuation">,</span> <span class="token function">__hmul</span><span class="token punctuation">(</span>row_<span class="token punctuation">,</span> stepY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
__half z_re <span class="token operator">=</span> x<span class="token punctuation">,</span> z_im <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
__half target <span class="token operator">=</span> <span class="token function">__hadd</span><span class="token punctuation">(</span><span class="token function">__hmul</span><span class="token punctuation">(</span>z_re<span class="token punctuation">,</span> z_re<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">__hmul</span><span class="token punctuation">(</span>z_im<span class="token punctuation">,</span> z_im<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> val <span class="token operator">&lt;</span> maxIterations <span class="token operator">&amp;&amp;</span> <span class="token function">__hle</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>  <span class="token function">__float2half</span><span class="token punctuation">(</span><span class="token number">4.f</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    __half new_re <span class="token operator">=</span> <span class="token function">__hsub</span><span class="token punctuation">(</span><span class="token function">__hmul</span><span class="token punctuation">(</span>z_re<span class="token punctuation">,</span> z_re<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">__hmul</span><span class="token punctuation">(</span>z_im<span class="token punctuation">,</span> z_im<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    __half new_im <span class="token operator">=</span> <span class="token function">__hmul</span><span class="token punctuation">(</span><span class="token function">__float2half</span><span class="token punctuation">(</span><span class="token number">2.f</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">__hmul</span><span class="token punctuation">(</span>z_re<span class="token punctuation">,</span> z_im<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    z_re <span class="token operator">=</span> <span class="token function">__hadd</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> new_re<span class="token punctuation">)</span><span class="token punctuation">;</span>
    z_im <span class="token operator">=</span> <span class="token function">__hadd</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> new_im<span class="token punctuation">)</span><span class="token punctuation">;</span>
    target <span class="token operator">=</span> <span class="token function">__hadd</span><span class="token punctuation">(</span><span class="token function">__hmul</span><span class="token punctuation">(</span>z_re<span class="token punctuation">,</span> z_re<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">__hmul</span><span class="token punctuation">(</span>z_im<span class="token punctuation">,</span> z_im<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
<li class="" data-startline="291" data-endline="293" data-position="9993" data-size="0"><span data-position="9993" data-size="3">結果:</span><br>
<span data-position="9999" data-size="58">half做comparison的計算時會使程式卡住，具體的原因並不清楚，但估計最後會因為精度的問題造成無法通過測資。</span></li>
</ul>
</li>
<li class="" data-startline="294" data-endline="306" data-position="10075" data-size="0">
<p data-position="10073" data-size="0"><span data-position="10075" data-size="4">優化八 </span><font color="red"><span data-position="10097" data-size="21">此方法不夠通用，最後上傳的版本已棄用此方法</span></font></p>
<ul>
<li class="" data-startline="295" data-endline="301" data-position="10132" data-size="0">
<p data-position="10126" data-size="0"><span data-position="10132" data-size="3">方法:</span><br>
<img src="./CUDA Programming - HackMD_files/68OioAq.png" alt="" class="" data-position="10138" data-size="36" loading="lazy"><br>
<span data-position="10177" data-size="45">觀察View1可以發現最白的區域是由灰色漸層上來，且白色區域比鄰相連，這就有了個新的想法。</span><br>
<span data-position="10225" data-size="29">是否只要做到某些區域，該區域內即可忽略計算直接設定最大值?</span><br>
<span data-position="10257" data-size="26">為了印證此方法的可行性需要先切分出不須再計算的區域。</span><br>
<span data-position="10286" data-size="30">切分的方法可以有很多種，最簡單的方式就是切分為長方形如下圖:</span><br>
<img src="./CUDA Programming - HackMD_files/ZWmLsBM.png" alt="" class="" data-position="10319" data-size="36" loading="lazy"></p>
</li>
<li class="" data-startline="302" data-endline="306" data-position="10398" data-size="0">
<p data-position="10392" data-size="0"><span data-position="10398" data-size="3">結果:</span><br>
<img src="./CUDA Programming - HackMD_files/slmab8W.png" alt="" class="" data-position="10404" data-size="36" loading="lazy"><br>
<strong data-position="10459" data-size="0"><span data-position="10445" data-size="14">加速大幅增加為: 3.13倍</span></strong><span data-position="10461" data-size="2">，且</span><strong data-position="10479" data-size="0"><span data-position="10465" data-size="8">答案依然為正確的</span></strong><span data-position="10475" data-size="19">，也應證了"白色區域比鄰相連"的想法。</span></p>
<p data-position="10516" data-size="0"><span data-position="10524" data-size="39">不過，這種切法很耗時，也沒辦法最大化執行的時間，最general的方式還是以"</span><strong data-position="10563" data-size="0"><a href="https://developer.nvidia.com/blog/introduction-cuda-dynamic-parallelism/" target="_blank" rel="noopener"><span data-position="10566" data-size="24">mariani-silver algorithm</span></a></strong><span data-position="10667" data-size="65">"的方法去實作為佳，但此演算法的實作方式牽涉到Dynamic Parallelism，以作業的Makefile寫法並不支援此功能。</span></p>
</li>
</ul>
</li>
<li class="" data-startline="307" data-endline="348" data-position="10735" data-size="0">
<p data-position="10733" data-size="0"><span data-position="10735" data-size="3">優化九</span></p>
<ul>
<li class="" data-startline="308" data-endline="345" data-position="10745" data-size="0"><span data-position="10745" data-size="3">方法:</span><br>
<span data-position="10751" data-size="11">將for loop加入</span><pre><code class="cpp hljs"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">unroll</span></span>
</code></pre>
<span data-position="10827" data-size="108">這種方式會在編譯期間就準備好unroll的次數，但直接在原本的for loop加上unroll並不會有明顯的差異，主要是因為我們傳入的"maxIterations"會有變動，compiler無法在編譯期間得知其數值。</span><br>
<span data-position="10938" data-size="44">因此，為了最大化unroll的效能可以依據給定的Iteration做if else切換。</span><pre><code class="cpp hljs"><span class="token keyword">if</span> <span class="token punctuation">(</span>maxIterations <span class="token operator">==</span> <span class="token number">256</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">unroll</span></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> val <span class="token operator">&lt;</span> <span class="token number">256</span><span class="token punctuation">;</span> <span class="token operator">++</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>maxIterations <span class="token operator">==</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">unroll</span></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> val <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token operator">++</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>maxIterations <span class="token operator">==</span> <span class="token number">10000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">unroll</span></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> val <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> <span class="token operator">++</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>maxIterations <span class="token operator">==</span> <span class="token number">100000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">unroll</span></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> val <span class="token operator">&lt;</span> <span class="token number">100000</span><span class="token punctuation">;</span> <span class="token operator">++</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> val <span class="token operator">&lt;</span> maxIterations<span class="token punctuation">;</span> <span class="token operator">++</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
<li class="" data-startline="346" data-endline="348" data-position="11796" data-size="0"><span data-position="11796" data-size="3">結果:</span><br>
<img src="./CUDA Programming - HackMD_files/zYBr65l.png" alt="" class="" data-position="11802" data-size="36" loading="lazy"><br>
<span data-position="11841" data-size="10">加速為: 3.36倍</span></li>
</ul>
</li>
<li class="" data-startline="349" data-endline="359" data-position="11866" data-size="0">
<p data-position="11864" data-size="0"><span data-position="11866" data-size="3">優化十</span></p>
<ul>
<li class="" data-startline="350" data-endline="352" data-position="11876" data-size="0"><span data-position="11876" data-size="3">方法:</span><br>
<span data-position="11882" data-size="37">除了以上的unroll方式外還可以再加入人工嵌入的unroll來達到加速。</span><br>
<span data-position="11922" data-size="36">經過實驗後得出，對for迴圈再unroll約九次指令可以達到最大化加速。</span></li>
<li class="" data-startline="353" data-endline="359" data-position="11977" data-size="0"><span data-position="11977" data-size="3">結果:</span><br>
<img src="./CUDA Programming - HackMD_files/IREV5JD.png" alt="" class="" data-position="11983" data-size="36" loading="lazy"><br>
<span data-position="12022" data-size="10">加速為: 3.59倍</span><br>
<img src="./CUDA Programming - HackMD_files/y1OaYlD.png" height="350"><br>
<span data-position="12094" data-size="24">此時的結果已經有不錯的成績了，但還能再繼續優化。</span></li>
</ul>
</li>
<li class="" data-startline="360" data-endline="380" data-position="12148" data-size="0">
<p data-position="12145" data-size="0"><font color="red"><span data-position="12166" data-size="10">優化十一 (未上傳)</span></font></p>
<ul>
<li class="" data-startline="361" data-endline="372" data-position="12190" data-size="0"><span data-position="12190" data-size="3">方法:</span><br>
<span data-position="12196" data-size="42">回到程式最一開始的起點"main.cpp"，觀察第209行可以發現程式執行了10次"</span><strong data-position="12246" data-size="0"><span data-position="12240" data-size="4">一模一樣</span></strong><span data-position="12246" data-size="70">"的指令去計算mandelbrot，也因為每次的輸入都是固定的，所以圖案產生的結果都是一樣的，這也代表做了第一次的迴圈後就就可以不用再做了。</span><br>
<span data-position="12319" data-size="80">程式改動只需要一個bool紀錄是否是第一次call kernel function與int指標拷貝執行後的結果，即可做完一次迴圈後就用拷貝的方式把結果傳回img</span><pre><code class="cpp hljs"><span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token operator">*</span>img_copy<span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token keyword">bool</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">memcpy</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> img_copy<span class="token punctuation">,</span> resX <span class="token operator">*</span> resY <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token function">cudaMemcpy</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> temp_img<span class="token punctuation">,</span> resX <span class="token operator">*</span> resY <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cudaMemcpyDeviceToHost<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">memcpy</span><span class="token punctuation">(</span>img_copy<span class="token punctuation">,</span> img<span class="token punctuation">,</span> resX <span class="token operator">*</span> resY <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre>
</li>
<li class="" data-startline="373" data-endline="379" data-position="12768" data-size="0"><span data-position="12768" data-size="3">結果:</span><br>
<img src="./CUDA Programming - HackMD_files/wx76C9S.png" alt="" class="" data-position="12772" data-size="36" loading="lazy"><br>
<span data-position="12809" data-size="9">加速大幅增長為: </span><font color="red"><b><span data-position="12839" data-size="7">332.46倍</span></b></font><br>
<img src="./CUDA Programming - HackMD_files/oNp1Cuy.png" alt="" class="" data-position="12858" data-size="36" loading="lazy">  <div><font color="red"><b>這方法有點算利用了作業上的小bug，所以上傳的版本只會到優化十的結果</b></font><br>
  此版本會放在kernel5.cu</div>
</li>
</ul>
<p data-position="13031" data-size="0"><img src="./CUDA Programming - HackMD_files/sgpqBwP.png" alt="" class="" data-position="13035" data-size="36" loading="lazy"></p>
</li>
</ul></div>

    <div class="document-footer container-fluid hmd-pb-2 hidden-print">
        <div class="flex items-center justify-end -mb-5 text-right text-gray-500 text-3">
            <span>
                最後編輯：
                &nbsp;
            </span>

            
                <span class="ui-lastchangeuser h-[18px]" data-profile="karta134033" data-placement="left">
                    <a class="ui-user-icon inline-block w-[18px] h-[18px] m-0 user-card-popover" style="background-image: url(https://lh3.googleusercontent.com/-8t6tJ5N_q9k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reKpEqiLF5J4yGnqMw6Ckn2daGTog/photo.jpg);" target="_blank" href="https://hackmd.io/@karta134033" data-toggle="popover" data-original-title="" title=""></a>
                </span>
            
        </div>

        <hr class="my-7.5">
        <div class="flex flex-col-reverse footer hmd-items-center sm:flex-row gap-[25px] sm:gap-0">
    <div class="flex-1 block h-full">
        <div class="flex gap-3">
    
        <span class="flex items-center justify-center ui-owner" data-placement="top" data-profile="karta134033">
             <a class="inline-block w-10 h-10 m-0 min-w-10 ui-user-icon user-card-popover" style="background-image: url(https://lh3.googleusercontent.com/-8t6tJ5N_q9k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reKpEqiLF5J4yGnqMw6Ckn2daGTog/photo.jpg);" target="_blank" href="https://hackmd.io/@karta134033" data-toggle="popover" data-original-title="" title=""></a>
        </span>
    


    <div class="flex flex-col max-w-[303px] gap-1.5 justify-center items-start">
        
            <a class="font-bold ui-owner text-5 text-black-brand user-card-popover" hover:underline="" cursor-pointer"="" data-profile="karta134033" href="https://hackmd.io/@karta134033" data-toggle="popover" data-original-title="" title="">
                karta134033
            </a>
        

        
            <span class="text-gray-600 text-3">
                
            </span>
            
    </div>
</div>

    </div>

    <div class="footer__views">
        <span class="mr-4">
            <i class="fa fa-eye"></i> <span class="ui-viewcount" title="814">814</span>
        </span>

    
        <span class="community-button ui-like" data-toggle="tooltip" data-placement="top" title="" data-original-title="讚賞">
            <i class="fa fa-fw"></i>
            <span class="count"></span>
        </span>

        <span class="community-button ui-bookmark" data-toggle="tooltip" data-placement="top" title="" data-original-title="收藏">
            <i class="fa fa-fw"></i>
        </span>

        
            <div class="ui-notification dropup dropdown ">
                <span id="notificationLabel" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                    <div class="community-button" data-toggle="tooltip" data-placement="top" title="" data-original-title="訂閱">
                        <i class="fa fa-fw fa-bell"></i>
                    </div>
                </span>

                <ul class="dropdown-menu pull-right" aria-labelledby="notificationLabel">
                    <li class="ui-notification-watch notification-menu-item "><i class="fa fa-check fa-fw"></i><i class="fa fa-bell fa-fw"></i><div class="info"><div class="title">所有通知</div><div class="description">當有任何變更時將會收到通知</div></div></li>
                    <li class="ui-notification-mention notification-menu-item "><i class="fa fa-check fa-fw"></i><i class="fa fa-at fa-fw"></i><div class="info"><div class="title">提及我</div><div class="description">當有人提及我時才會收到通知</div></div></li>
                    <li class="divider"></li>
                    <!--
                        <li class="ui-notification-list notification-menu-item"><span><a href="#"><i class="fa fa-list-ul fa-fw"></i>我的訂閱列表</a></span></li>
                    -->
                    <li class="ui-notification-unsubscribe notification-menu-item">
                        <i class="fa fa-bell-slash-o fa-fw"></i>
                        取消訂閱
                    </li>
                </ul>
                <span class="ui-notification-subscribe community-button" data-toggle="tooltip" data-placement="top" title="" data-original-title="訂閱">
                    <i class="fa fa-fw fa-bell-o"></i>
                </span>
            </div>
        
    
    </div>
</div>

<section id="notes-recommendations">
    
        <hr class="my-7.5">

        <h3 class="mx-0 mb-[35px] text-gray-600 font-bold text-6">閱讀更多</h3>

        <div class="flex flex-col gap-5 sm:grid sm:grid-cols-2">
            
                <a class="pb-7.5 border-b border-gray-200 border-0 border-solid hover:no-underline active:no-underline focus:no-underline ui-recommendation-note" href="https://hackmd.io/@karta134033/Byv-aYzMS?utm_source=preview-mode&amp;utm_medium=rec" target="_blank" rel="noopener">
                    <h5 class="font-bold text-6 text-gray-850 my-0 mb-[5px]">Git Command</h5>

                    <p class="mb-0 leading-[20px] text-gray-500 break-words line-clamp-2 text-5">暫存修改的檔案
git stash   
git stash clear    # 清除暫存
git stash apply    # 加入最近的一次  

增加遠端連線
git remote add upstream git@github.com:gomaji/www.gomaji.com.git   

刪除改過的資料
</p>

                    <small class="mt-3 text-gray-600 text-3" data-moment="2021-10-15T00:45:08.368Z">2021年10月15日</small>
                </a>
            
                <a class="pb-7.5 border-b border-gray-200 border-0 border-solid hover:no-underline active:no-underline focus:no-underline ui-recommendation-note" href="https://hackmd.io/@karta134033/HJ4NmlaLL?utm_source=preview-mode&amp;utm_medium=rec" target="_blank" rel="noopener">
                    <h5 class="font-bold text-6 text-gray-850 my-0 mb-[5px]">資料庫助教課程  專題</h5>

                    <p class="mb-0 leading-[20px] text-gray-500 break-words line-clamp-2 text-5">課程影片
https://drive.google.com/file/d/1ikLY23qbJBHw7ysVpgQjqBIQEvAAKEOb/view?usp=sharing

Demo網址
主要以PC端網頁呈現為主，手機的版型未製作但功能仍可使用。
http://neil.nctu.me/php_project_demo/views/blog.php
註:此網頁內容與下面的專案是相同的，若遇到網頁無法開啟(server主機掛了)則請以以下的方式在local端開啟為主。

使用方法
</p>

                    <small class="mt-3 text-gray-600 text-3" data-moment="2021-06-26T05:26:04.843Z">2021年6月26日</small>
                </a>
            
                <a class="pb-7.5 border-b border-gray-200 border-0 border-solid hover:no-underline active:no-underline focus:no-underline ui-recommendation-note" href="https://hackmd.io/@karta134033/Sko49z6oU?utm_source=preview-mode&amp;utm_medium=rec" target="_blank" rel="noopener">
                    <h5 class="font-bold text-6 text-gray-850 my-0 mb-[5px]">PHP websocket</h5>

                    <p class="mb-0 leading-[20px] text-gray-500 break-words line-clamp-2 text-5">前置作業

到 https://github.com/qqqian0819/chatRoom 把專案載下來，將專案解壓縮到xampp/htdocs資料夾內

到以下位置點開php.ini

找到;extension=sockets的擴充指令,   然後把前面的 ";" 刪掉後儲存關閉

完成以上動作後重啟xampp
</p>

                    <small class="mt-3 text-gray-600 text-3" data-moment="2021-05-19T04:32:13.802Z">2021年5月19日</small>
                </a>
            
                <a class="pb-7.5 border-b border-gray-200 border-0 border-solid hover:no-underline active:no-underline focus:no-underline ui-recommendation-note" href="https://hackmd.io/@karta134033/rJm2caS6v?utm_source=preview-mode&amp;utm_medium=rec" target="_blank" rel="noopener">
                    <h5 class="font-bold text-6 text-gray-850 my-0 mb-[5px]">OpenCL Programming</h5>

                    <p class="mb-0 leading-[20px] text-gray-500 break-words line-clamp-2 text-5">Q1

(5 points): Explain your implementation. How do you optimize the performance of convolution?

--作法--

將傳輸資料量縮小
原本傳入的圖片為"float"型態，佔用空間為4bytes。
圖像處理中常見的型態為"uchar"，一般是指unsigned char，佔用空間為1bytes。
從助教的"readImage()"function也可以得知讀入的圖片是以uchar做儲存再轉為float，因此確實可以將"輸入"圖片轉為uchar的型態。</p>

                    <small class="mt-3 text-gray-600 text-3" data-moment="2021-01-13T15:40:44.235Z">2021年1月13日</small>
                </a>
            
        </div>

        
        

        
            <div class="text-center mt-[35px]">
                <a href="https://hackmd.io/@karta134033?utm_source=preview-mode&amp;utm_medium=rec" target="_blank" rel="noopener" class="font-bold text-gray-500 btn btn-default btn-md ui-recommendation-read-more">
                    閱讀更多 karta134033 的文章
                </a>
            </div>
        
    
</section>


<hr class="mt-7.5 mb-3.5">

<div class="footer text-[15px] text-gray-700 text-center">
    <span>發表於</span> <strong><a href="https://hackmd.io/" target="_blank"><i class="fa fa-file-text"></i> <span class="brand">HackMD</span></a></strong>
</div>

    </div>

    <div class="ui-community unselectable hidden-print hidden-xs" style="display: none; left: 849.5px;">
        
            <div class="community-button ui-like" title="" data-toggle="tooltip" data-placement="right" data-offset="0,5" data-original-title="讚賞"><i class="fa fa-fw"></i><div class="count"></div></div>
            <div class="community-button ui-bookmark" title="" data-toggle="tooltip" data-placement="right" data-offset="0,5" data-original-title="收藏"><i class="fa fa-fw"></i></div>
            
                <div class="ui-notification dropup dropdown " title="" data-toggle="tooltip" data-placement="right" data-offset="0,5" data-original-title="訂閱">
                    <div id="notificationLabel" class="community-button" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                        <div class="ui-notification-status"><i class="fa fa-fw fa-bell"></i></div>
                    </div>
                    <ul class="dropdown-menu left" aria-labelledby="notificationLabel">
                        <li class="ui-notification-watch notification-menu-item "><i class="fa fa-check fa-fw"></i><i class="fa fa-bell fa-fw"></i><div class="info"><div class="title">所有通知</div><div class="description">當有任何變更時將會收到通知</div></div></li>
                        <li class="ui-notification-mention notification-menu-item "><i class="fa fa-check fa-fw"></i><i class="fa fa-at fa-fw"></i><div class="info"><div class="title">提及我</div><div class="description">當有人提及我時才會收到通知</div></div></li>
                        <li class="divider"></li>
                        <!--
                           <li class="ui-notification-list notification-menu-item"><span><a href="#"><i class="fa fa-list-ul fa-fw"></i>我的訂閱列表</a></span></li>
                        -->
                        <li class="ui-notification-unsubscribe notification-menu-item"><i class="fa fa-bell-slash-o fa-fw"></i>取消訂閱</li>
                    </ul>
                    <div class="ui-notification-subscribe community-button"><i class="fa fa-fw fa-bell-o"></i></div>
                </div>
            
        
    </div>

    <div class="ui-toc dropup unselectable hidden-print" style="display: none; left: 855.141px;">
        <div class="pull-left dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="https://hackmd.io/@karta134033/HJ4vSVjnP#" role="button" aria-haspopup="true" aria-expanded="false" title="目錄">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel"><div class="toc"><ul class="nav">
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#CUDA-Programming" title="CUDA Programming" smoothhashscroll="">CUDA Programming</a><ul class="nav">
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q1" title="Q1" smoothhashscroll="">Q1</a><ul class="nav">
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#%E2%80%93Method-2-vs-Method-1%E2%80%93" title="–Method 2 vs Method 1–" smoothhashscroll="">–Method 2 vs Method 1–</a></li>
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#%E2%80%93Method3%E2%80%93" title="–Method3–" smoothhashscroll="">–Method3–</a></li>
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#%E2%80%93%E5%B0%8F%E7%B5%90%E2%80%93" title="–小結–" smoothhashscroll="">–小結–</a></li>
</ul>
</li>
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q2" title="Q2" smoothhashscroll="">Q2</a></li>
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q3" title="Q3" smoothhashscroll="">Q3</a></li>
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q4" title="Q4" smoothhashscroll="">Q4</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="https://hackmd.io/@karta134033/HJ4vSVjnP#">全部展開</a><a class="back-to-top" href="https://hackmd.io/@karta134033/HJ4vSVjnP#">回到頂部</a><a class="go-to-bottom" href="https://hackmd.io/@karta134033/HJ4vSVjnP#">移至底部</a></div></ul>
        </div>
    </div>

    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print affix" data-spy="affix" style="top: 77px; left: 507.5px; width: 891.5px;"><div class="toc"><ul class="nav">
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#CUDA-Programming" title="CUDA Programming" smoothhashscroll="">CUDA Programming</a><ul class="nav">
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q1" title="Q1" smoothhashscroll="">Q1</a><ul class="nav">
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#%E2%80%93Method-2-vs-Method-1%E2%80%93" title="–Method 2 vs Method 1–" smoothhashscroll="">–Method 2 vs Method 1–</a></li>
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#%E2%80%93Method3%E2%80%93" title="–Method3–" smoothhashscroll="">–Method3–</a></li>
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#%E2%80%93%E5%B0%8F%E7%B5%90%E2%80%93" title="–小結–" smoothhashscroll="">–小結–</a></li>
</ul>
</li>
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q2" title="Q2" smoothhashscroll="">Q2</a></li>
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q3" title="Q3" smoothhashscroll="">Q3</a></li>
<li><a href="https://hackmd.io/@karta134033/HJ4vSVjnP#Q4" title="Q4" smoothhashscroll="">Q4</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="https://hackmd.io/@karta134033/HJ4vSVjnP#">全部展開</a><a class="back-to-top" href="https://hackmd.io/@karta134033/HJ4vSVjnP#">回到頂部</a><a class="go-to-bottom" href="https://hackmd.io/@karta134033/HJ4vSVjnP#">移至底部</a></div></div>
    

    <div class="clearfix"></div>

    <!-- signin modal -->
<div class="modal fade signin-modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="margin-top: 10px; right: 20px; position: absolute;"><span aria-hidden="true">×</span></button>
            






    







<h3>登入</h3>

<form data-toggle="validator" role="form" class="form-horizontal" method="post" enctype="application/x-www-form-urlencoded" id="signin-form" novalidate="true" data-bitwarden-watching="1">
    <div class="hmd-dn"><input type="hidden" name="_csrf" value="BfAmmRX1-IeF6aEBWSXbh9RSCXY0CmK-hKhw"></div>
    <div class="hmd-dn"><input type="hidden" name="create_team" value="false"></div>
    <div class="hmd-dn"><input type="hidden" name="create_paid_team" value="false"></div>
    <div class="form-group  ">
        <label for="email" class="control-label">Email</label>
        <label for="inputEmail" class="control-label pull-right errors">
            
        </label>
        <span class="help-block control-label with-errors pull-right" style="display: inline;"></span>
        <div class="input-block">
            
                <input type="email" class="form-control" name="email" placeholder="您的 Email" required="" autocomplete="email">
            
            <span class="error-sign"></span>
        </div>
    </div>
    <div class="form-group ">
        <label for="password" class="control-label">密碼</label>
        <label for="inputPassword" class="control-label pull-right errors">
            
        </label>
        <span class="help-block control-label with-errors pull-right" style="display: inline;"></span>
        <div class="input-block">
            <input type="password" class="form-control" name="password" placeholder="您的密碼" required="" autocomplete="current-password">
            <span class="error-sign"></span>
            
                <span class="control-label pull-right" style="font-size: 13px; margin-top: 5px;"><a href="https://hackmd.io/settings/forgotPassword" style="text-decoration: underline;">忘記密碼</a></span>
            
        </div>
    </div>

    <div style="text-align: center; padding-top: 15px; margin-bottom: 0px;">
        
            <input type="submit" class="btn btn-success btn-large disabled" formaction="https://hackmd.io/login" value="登入" disabled="">
        

        
    </div>
</form>








    
        <p class="separator">或是</p>
    

    
        <p>繼續登入，代表您同意<a href="https://hackmd.io/s/terms" target="_blank">服務條款</a>。</p>
    

    








 



<script id="gsi-client" src="./CUDA Programming - HackMD_files/client" async="" defer="" nonce=""></script>
<script nonce="">
    function handleCredentialResponse(response) {
        const form = document.getElementById('sign-in-with-google-form')
        form.children.credential.value = response.credential
        form.children.method.value = location.href.toLowerCase() === 'https://hackmd.io/settings#general' ? 'merge' : 'login'
        form.submit()
    }
    var GSI_READY = new Promise(function (resolve) {
        function initialize () {
            google.accounts.id.initialize({
                client_id: '911617723593-drikdibvvn63slfd6kbqigo8ql1no55s.apps.googleusercontent.com',
                callback: handleCredentialResponse
            })
            const loginPath = 'https://hackmd.io/login'
            const joinPath = 'https://hackmd.io/join'
            const renderButton = function () {
                google.accounts.id.renderButton(
                    document.getElementById('sign-in-with-google-button'),
                    { type: 'standard', width: 250 }
                )
            }
            if (location.href.toLowerCase() === loginPath || location.href.toLowerCase() === joinPath) {
                renderButton()
            } else {
                $('.signin-modal').one('shown.bs.modal', function () {
                    renderButton()
                })
            }
            resolve()
        }

        window.addEventListener('load', function () { initialize() })
    })
</script>
<form class="hidden" id="sign-in-with-google-form" action="https://hackmd.io/auth/google" method="post">
    <input type="hidden" name="credential">
    <input type="hidden" name="method">
</form>
 

<div class="social-buttons-container">
    
    <div id="sign-in-with-google-button"></div>
    
    
    <a href="https://hackmd.io/auth/facebook" class="btn btn-lg btn-block btn-social btn-facebook">
        <i class="fa fa-facebook"></i> 透過 Facebook 登入
    </a>
    
    
    <a href="https://hackmd.io/auth/twitter" class="btn btn-lg btn-block btn-social btn-twitter">
        <i class="fa fa-twitter"></i> 透過 Twitter 登入
    </a>
    
    
    <a href="https://hackmd.io/auth/github" class="btn btn-lg btn-block btn-social btn-github">
        <i class="fa fa-github"></i> 透過 GitHub 登入
    </a>
    
    
    <a href="https://hackmd.io/auth/dropbox" class="btn btn-lg btn-block btn-social btn-dropbox">
        <i class="fa fa-dropbox"></i> 透過 Dropbox 登入
    </a>
    
    
    
</div>





    <div>
        <p>第一次使用 HackMD？ <a href="https://hackmd.io/join">註冊</a></p>
    </div>


            

<style>
  .grecaptcha-badge {
      z-index: 1051;
  }
</style>
<script nonce="">
function lazyLoadRecaptcha () {
  document.querySelector('#signin-form input[type="submit"]').disabled = true

  const siteKey = '6LdtkK4ZAAAAAG1B4iENhmQTce1xNTyHu0GjgnXi'
  const lang = 'zh-TW'
  const src = `https://www.google.com/recaptcha/api.js?render=${siteKey}&hl=${lang}&onload=recaptchaOnloadCallback`

  const observer = new MutationObserver(mutations => {
    if (mutations[0].target.classList.contains('in')) {
      observer.disconnect()
      const head = document.querySelector('head')
      const script = document.createElement('script')
      script.setAttribute('nonce', '1d0b4d90-bdf2-4366-a2dd-f5cf0b37e881')
      script.type = 'text/javascript'
      script.src = src
      head.appendChild(script)
    }
  })
  observer.observe(document.querySelector('.signin-modal'), { attributeFilter: ['class'] })
}

function recaptchaOnloadCallback () {
  const siteKey = '6LdtkK4ZAAAAAG1B4iENhmQTce1xNTyHu0GjgnXi'
  grecaptcha.ready(function() {
    document.querySelector('#signin-form input[type="submit"]').disabled = false
    grecaptcha.execute(siteKey, {action: 'login'}).then(function(token) {
      recaptchaCallback(token)
    })
  })
}

function recaptchaCallback (token) {
  const badge = document.querySelector('.grecaptcha-badge')
  const modal = $('.signin-modal')
  modal.on('shown.bs.modal', function() {
      badge.style.visibility = 'visible'
  })
  modal.on('hidden.bs.modal', function() {
      badge.style.visibility = 'hidden'
  })

  var input = document.createElement('input');
  input.setAttribute('type', 'hidden');
  input.setAttribute('name', 'g-recaptcha-response');
  input.setAttribute('value', token);
  document.getElementById('signin-form').appendChild(input);
}

lazyLoadRecaptcha ()
</script>


        </div>
    </div>
</div>

    
    <script src="./CUDA Programming - HackMD_files/js"></script>
    <script nonce="">
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        let userid = (document.cookie.match('(^|; )userid=([^;]*)')||0)[2];
        gtag('config', 'UA-60728495-1', {'user_id': userid});
        
    </script>


    
<script src="./CUDA Programming - HackMD_files/bundle.min.js.下載" crossorigin="anonymous"></script>
<script nonce="">Sentry.init({ dsn: 'https://73410f1915d84abc8b2dd1f1aabd1c82@sentry.hackmd.dev/4', environment: 'production', integrations: function (intrus) { return intrus.filter(function (itr) { return itr.name !== 'TryCatch' }) } });</script>


    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLW9Z3"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->



    <script src="./CUDA Programming - HackMD_files/i18n.js.下載"></script>
     <script src="./CUDA Programming - HackMD_files/font-vendor.cfc9bbf7f59a24c7e6c4.js.下載" defer="defer"></script><script src="./CUDA Programming - HackMD_files/common-vendor.4fb39488e38e07ad876b.js.下載" defer="defer"></script><script src="./CUDA Programming - HackMD_files/pretty-vendor.ae927cc636c64832c2ad.js.下載" defer="defer"></script><script src="./CUDA Programming - HackMD_files/pretty-common.f2bb7062872855109188.js.下載" defer="defer"></script><script src="./CUDA Programming - HackMD_files/pretty.336d9995eaac673f4a99.js.下載" defer="defer"></script>

    



<div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>